<section class="slider">
    <p class="slider__genre">{{ collection?.getName() }}</p>
    <div class="slider__container-wrapper">
        <div class="slider__container" [class.no-overflow]="!hasOverflow" [class.at-start]="atStart"
            [class.at-end]="atEnd" [class.at-middle]="atMiddle" #sliderContainer (scroll)="onScroll()">
            @for (video of collection?.getVideos(); track video.id) {
                <app-movie [video]="video" (videoSelected)="onVideoSelected($event)" />
            }
        </div>

        <button class="slider__arrow slider__arrow--left" [class.disabled]="!hasOverflow || atStart"
            (click)="scrollLeft()" [disabled]="!hasOverflow || atStart" aria-label="Scroll left">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512">
                <path
                    d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z" />
            </svg>
        </button>

        <button class="slider__arrow slider__arrow--right" [class.disabled]="!hasOverflow || atEnd"
            (click)="scrollRight()" [disabled]="!hasOverflow || atEnd" aria-label="Scroll right">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512">
                <path
                    d="m246.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 41.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" />
            </svg>
        </button>

        <div class="slider__gradient slider__gradient--left" [class.show]="hasOverflow && !atStart"></div>
        <div class="slider__gradient slider__gradient--right" [class.show]="hasOverflow && !atEnd"></div>
    </div>
</section>